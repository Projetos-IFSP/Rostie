<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/recipes.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <title>Receitas</title>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="index.html"><img src="/images/logo-menro.png" alt=""></a>
            </div>
            <ul class="menu">
                <li><a href="./home.html">Página Inicial</a></li>
                <li><a href="./pantrey.html">Minha Despensa</a></li>
                <li><a href="./recipes.html">Receitas</a></li>
                <li><a href="./login.html">Login</a></li>
                <li><a href="./sign-up.html" class="cadastre-se">Cadastrar-se</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <h2>Receitas</h2>
    <div class="grid-container">
    </div>
    <div class="buttons">
        <a class="button">
            <i class='bx bx-left-arrow-alt'></i>
        </a class="button">
        <a class="button">
            <i class='bx bx-right-arrow-alt'></i>
        </a class="button">
</div>
    </div>
        <div class="footer">
            <div class="newsletter">
                <h3>Inscreva-se na nossa newsletter</h3>
                Newsletter
                <input type="text" placeholder="Seu email" id="newsletter-input">
                <button type="submit" class="newsletter-btn"><i class='bx bxs-paper-plane' style='color:#ffffff' ></i></button>
            </div>
        </div>
        <div class="footer-complement">
            <ul class="footer-links">
                <li><a href="/home.html">Página Inicial</a></li>
                <li><a href="/pantrey.html">Minha Despensa</a></li>
                <li><a href="/recipes.html">Receitas</a></li>
                <li><a href="/politcs-privacy.html">Política de Privacidade</a></li>
                <li><a href="#">Sobre nós</a></li>
                <li><a href="#">Contato</a></li>
                <p>© Copyright 2023 - Rostie</p>
            </ul>
        </div>
        <script>
            alert("Necessita id na URL!");
            
            function adicionarGridItem(data) {
                let container = document.querySelector(".grid-container");

                data.forEach(item => {
                    const divGridItem = document.createElement('div');
                    divGridItem.classList.add('grid-item');

                    const heading = document.createElement('h4');
                    const image = document.createElement('img');

                    heading.textContent = item.recipe_name;
                    image.src = `../images/${item.recipe_image}`;
                    image.classList.add('foto-receita');
                    image.alt = item.recipe_name;

                    divGridItem.appendChild(heading);
                    divGridItem.appendChild(image);

                    container.appendChild(divGridItem);
                });
            }

        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const id = urlParams.get('id');

        const URL_1 = "http://localhost:5752/receita/all/" + id; 
        fetch(URL_1, {
            method: "POST",
            credentials: 'include'
        })
        .then(resposta => resposta.json())
        .then(data => {
            adicionarGridItem(data);
        })
        .catch(error => console.error('Erro na requisição:', error));

        </script>
</body>
</html>
